import DBStorage from"@src/api/DBStorage";import{timeNow}from"@src/scripts/time";export const getStorageItem=async(e,t=null)=>await(new DBStorage).get(e,t);export const setStorageItem=async(e,t)=>await(new DBStorage).set(e,t);export const delStorageItem=async e=>await(new DBStorage).del(e);export const getStorageItems=async()=>await(new DBStorage).getAll();export const getClosedTabs=async e=>await(e||new DBStorage).get("closed-tabs",[]);const setClosedTabs=async(e,t)=>{await(t||new DBStorage).set("closed-tabs",e)};export const getOpenedTabs=async e=>await(e||new DBStorage).get("opened-tabs",{});const setOpenedTabs=async(e,t)=>{await(t||new DBStorage).set("opened-tabs",e)};export const saveOpenedTab=async e=>{const t=new DBStorage,a=await getOpenedTabs(t);await setOpenedTabs({...a,[e.id]:e},t)};export const saveClosedTab=async e=>{const t=new DBStorage,a=await getOpenedTabs(t),s=await getClosedTabs(t);void 0!==a[e]&&(a[e].time=timeNow(0),await setOpenedTabs(a,t),s.unshift(a[e]),await setClosedTabs(s,t))};export const updatedOpenedTab=async e=>{const t=new DBStorage,a=await getOpenedTabs(t);void 0!==a[e.id]&&(a[e.id].title=e.title,a[e.id].url=e.url,await setOpenedTabs(a,t))};