import queryString from"query-string";export const resolve=(r,t,e={})=>(r=r.replace(/\/$/,""),t=t.replace(/^\//,""),queryString.stringifyUrl({url:`${r}/${t}`,query:e}));export const ensureProtocol=(r,t="https")=>r?hasProtocol(r)?r:`${t}://${r.replace(/^(:?\/?\/)/,"")}`:r;export const getDomainFromUrl=r=>{if(!r)return null;try{return new URL(ensureProtocol(r)).hostname}catch(r){return null}};export const hasSpecificProtocol=(r,t)=>{if(!r)return!1;const e=new RegExp(`^(${t})://`);return 0===String(r).search(e)};export const hasProtocol=r=>hasSpecificProtocol(r,["http","https","chrome","(filesystem:)?chrome-extension"].join("|"));export const runtimeURL=(r,t)=>{const e=queryString.stringifyUrl({url:r,query:t});return chrome.runtime.getURL(e)};export const faviconURL=r=>r?runtimeURL("/_favicon",{pageUrl:r,size:32}):null;export const parseUrl=r=>{try{return new URL(r)}catch(r){return null}};