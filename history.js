(()=>{"use strict";var e,t={494:(e,t,s)=>{const a={ctrlState:"false",shiftState:"false",itemSelectedColor:"#ffcbd3",selectedItem:void 0,prh:void 0},n=e=>a[e],i=(e,t)=>{a[e]=t};var r=s(109);const o=e=>e?((e,t)=>{const s=r.A.stringifyUrl({url:e,query:t});return chrome.runtime.getURL(s)})("/_favicon",{pageUrl:e,size:32}):null,c=e=>{try{return new URL(e)}catch(e){return null}};var l=s(602),d=s(794),h=s.n(d);const u={storage:{stores:[{store:"default",props:{autoIncrement:!1,keyPath:["key"]},indexes:[{indexName:"key",keyPath:"key"}]}],version:1}};class p{constructor(e,t){this.dbName=e,this.tableName=t,this.version=h().get(u,[e,"version"],1),this._db=null}async db(){if(this._db)return this._db;const e=h().get(u,[this.dbName,"stores"],[]);return this._db=await(0,l.P2)(this.dbName,this.version,{upgrade(t){for(let{store:s,props:a,indexes:n}of e)if(!1===t.objectStoreNames.contains(s)){let e=t.createObjectStore(s,a);for(let{indexName:t,keyPath:s}of n)e.createIndex(t,s)}}}),this._db}async add(e,t){return(await this.db()).add(this.tableName,e,t)}async get(e){return(await this.db()).get(this.tableName,e)}async getFromIndex(e,t){return(await this.db()).getFromIndex(this.tableName,e,t)}async getKeyFromIndex(e,t){return(await this.db()).getKeyFromIndex(this.tableName,e,t)}async getAllKeysFromIndex(e,t,s){return(await this.db()).getAllKeysFromIndex(this.tableName,e,t,s)}async getAllFromIndex(e,t,s){return(await this.db()).getAllFromIndex(this.tableName,e,t,s)}async getAll(){return(await this.db()).getAll(this.tableName)}async set(e,t){return(await this.db()).put(this.tableName,e,t)}async setIfNotExists(e,t,s=!0){return(await this.keys()).includes(e)?null:!0===s?(await this.db()).put(this.tableName,await t(),e):(await this.db()).put(this.tableName,t(),e)}async delete(e){return(await this.db()).delete(this.tableName,e)}async deleteByIndex(e,t){await this.eachByIndex(e,t,(e=>e.delete()))}async eachByIndex(e,t,s){const a=await this.db(),n=await a.transaction(this.tableName,"readwrite");let i=await n.store.index(e).openCursor(t);const r=[];for(;i;)r.push(s(i)),i=await i.continue();await Promise.all(r),await n.done}async findFirstByIndex(e,t,s){const a=await this.db(),n=await a.transaction(this.tableName,"readwrite");let i=await n.store.index(e).openCursor(t);for(;i;){if(s(i))return await n.done,i.value;i=await i.continue()}return await n.done,null}async findByIndex(e,t,s){const a=await this.db(),n=await a.transaction(this.tableName,"readwrite");let i=await n.store.index(e).openCursor(t);const r=[];for(;i;)s&&!s(i)||r.push(i.value),i=await i.continue();return await n.done,r}async upperBound(e,t){return IDBKeyRange.upperBound(e,t)}async clear(){return(await this.db()).clear(this.tableName)}async keys(){return(await this.db()).getAllKeys(this.tableName)}async close(){(await this.db()).close(),this._db=null}async once(e,...t){const s=await e(...t);return await this.close(),s}async onceGet(e){const t=await this.get(e);return await this.close(),t}async onceSet(e,t){const s=await this.set(e,t);return await this.close(),s}async onceDelete(e){const t=await this.delete(e);return await this.close(),t}}class f{constructor(){this.index=new p("storage","default")}set(e,t){return this.index.set({key:e,data:t})}async get(e,t){const s=await this.index.getFromIndex("key",e);return h().get(s,["data"],t)}async del(e){return await this.index.deleteByIndex("key",e)}async getAll(){return(await this.index.getAll()).reduce(((e,t)=>({...e,[t.key]:t.data})),{})}}const g=async(e,t=null)=>await(new f).get(e,t),m=async(e,t)=>await(new f).set(e,t),v=async e=>{e*=1;let t=await g("rh-date");const s=new Date(e);let a=s.getDate()+"",n=s.getMonth()+1+"";const i=s.getFullYear()+"";return 1===a.length&&(a="0"+a),1===n.length&&(n="0"+n),t=t.replace("dd",a),t=t.replace("mm",n),t=t.replace("yyyy",i),t};class y{static get(e){return new Promise((t=>{chrome.history.search({text:"",...e},t)}))}static add(e){return new Promise((t=>{chrome.history.addUrl({url:e},t)}))}static getVisits(e){return new Promise((t=>{chrome.history.getVisits({url:e},t)}))}static remove(e){return new Promise((t=>{chrome.history.deleteUrl({url:e},(()=>{setTimeout(t,50)}))}))}static removeRange(e,t){return new Promise((s=>{chrome.history.deleteRange({startTime:e,endTime:t},(()=>{setTimeout(s,50)}))}))}static onVisited(e){chrome.history.onVisited.addListener(e)}static onVisitRemoved(e){chrome.history.onVisitRemoved.addListener(e)}}const b=(e,t)=>chrome.i18n.getMessage(e,t),w=(e,t)=>{let s="";const a=0===e?new Date:new Date(e);let n=a.getHours(),i=a.getMinutes();return"12"===t&&(s=n>11?" "+b("PM"):" "+b("AM"),0===n&&(n=12),n>12&&(n-=12)),n<10&&(n="0"+n),i<10&&(i="0"+i),n+":"+i+s};var k=s(692),x=s.n(k);const $=()=>"block"===x()("#rh-views-insert").css("display")?"history":"block"===x()("#rh-views-search-insert").css("display")?"search":void 0;const T=(e,t)=>{const s=function(){const e=1*x()("#date-select-year").val();return e%400==0||e%100!=0&&e%4==0}()?[31,29,31,30,31,30,31,31,30,31,30,31]:[31,28,31,30,31,30,31,31,30,31,30,31],a=x()("#date-select-day"),n=x()("#date-select-year"),i=x()("#date-select-month");let r;if("current"===e)r=new Date;else if("selected"===e){const e=s[1*i.val()-1];r=e<1*a.val()?new Date(1*n.val(),1*i.val()-1,e,23,59,59,999):new Date(1*n.val(),1*i.val()-1,1*a.val(),23,59,59,999)}"prev"===t?r.setDate(r.getDate()-1):"next"===t&&r.setDate(r.getDate()+1),a.html("");const o=(new Date).getFullYear(),c=r.getMonth(),l=r.getDate(),d=[o,o-1];if("current"===e)for(let e=0;e<d.length;e++){const t=document.createElement("option");0===e&&t.setAttribute("selected","selected"),t.setAttribute("value",`${d[e]}`),t.innerText=`${d[e]}`,n.append(t)}x()("#date-select-month option").each((function(){c+1===1*x()(this).val()&&x()(this).attr("selected","selected")}));for(let e=0;e<=s.length;e++)if(c===e)for(let t=1;t<=s[e];t++)if(t===l){t+="",1===t.length&&(t="0"+t);const e=document.createElement("option");e.setAttribute("selected","selected"),e.setAttribute("value",t),e.innerText=t,a.append(e)}else{t+="",1===t.length&&(t="0"+t);const e=document.createElement("option");e.setAttribute("value",t),e.innerText=t,a.append(e)}const h=new Date(o,c,1,23,59,59,999).getDay(),u=new Date(o,c,s[c],23,59,59,999).getDay(),p=x()("#calendar-days");p.text("");for(let e=0;e<s[c];e++){if(0===e)for(let e=0;e<h;e++){const e=document.createElement("span");e.classList.add("day"),e.innerHTML="&nbsp;",p.append(e)}const t=document.createElement("a");if(t.setAttribute("href","#"),t.innerText=`${e+1}`,t.classList.add("day"),t.addEventListener("click",(async function(){const e=x()(this);x()("#date-select-day option").each((function(){const t=x()(this);parseInt(t.val())===parseInt(e.text())?t.attr("selected","selected"):t.removeAttr("selected")})),x()("#calendar-days a#selected").removeAttr("id"),e.attr("id","selected"),await M("yes","")})),e+1===l&&(t.setAttribute("id","selected"),t.setAttribute("rel",e+1+"|"+(c+1)+"|"+o)),p.append(t),e+1===s[c])for(let e=0;e<6-u;e++){const e=document.createElement("span");e.classList.add("day"),e.innerHTML="&nbsp;",p.append(e)}}};let I;const D=(e,t)=>{let s=0;I=setInterval((()=>{t(s),s++}))},M=async(e,t)=>{const s=x()("#rh-what").val(),a=await g("rh-group"),r=await g("rh-orderby"),l=await g("rh-order"),d={},h=[];let u;if(I&&clearInterval(I),"yes"===e||"current"===e){let t;if("yes"===e){const e=1*x()("#date-select-day").val(),s=1*x()("#date-select-month").val()-1,a=1*x()("#date-select-year").val();t=new Date(a,s,e,23,59,59,999)}else if("current"===e){const e=new Date;t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}let s=t.getTime();d.startTime=s-864e5,d.endTime=t.getTime(),d.maxResults=9999,d.text="",u="rh-views-insert",x()("#rh-views-search-insert").css("display","none"),x()("#rh-views-insert").css("display","block"),x()("#rh-search").val(""),x()("#delete-range-one").val(await v(s)),x()("#delete-range-two").val(await v(s))}else if("search"===e){if("current"===s){const e=1*x()("#date-select-day").val(),t=1*x()("#date-select-month").val()-1,s=1*x()("#date-select-year").val(),a=new Date(s,t,e,23,59,59,999),n=a.getTime();d.startTime=n-864e5,d.endTime=a.getTime()}else"all"===s&&(d.startTime=(new Date).getTime()-24192e5,d.endTime=(new Date).getTime());d.text=t,d.maxResults=100,u="rh-views-search-insert",x()("#rh-views-search-insert").css("display","block"),x()("#rh-views-insert").css("display","none")}const p=x()(`#${u}`);p.text(b("loading"));const f=await y.get(d);if(0===f.length)return x()("#calendar-total-value").text("0"),void p.html(`<div class="no-results"><span>${b("noResults")}</span></div>`);N();for(let e=0;e<=f.length;e++){const t=/^(http|https|ftp|ftps):\/\//;if(void 0!==f[e]&&t.test(f[e].url)){let t=f[e].title;const s=f[e].url,a=f[e].visitCount;if(""===t&&(t=s),f[e].lastVisitTime>=d.startTime&&f[e].lastVisitTime<=d.endTime){const n=c(s);h.push({url:s,visits:a,host:n.host,favicon:o(s),epoch:f[e].lastVisitTime,time:w(f[e].lastVisitTime),date:await v(f[e].lastVisitTime),title:(M=t,m=(e=>e.replace(/<script[^>]*>.*?<\/script>/gi,""))(M).replace(/"/g,"&#34;").replace(/</g,"").replace(/>/g,"").replace(/\//g,""),k=0,T=100,m.length>T?m.substring(k,T)+"...":m.substring(k,T))})}}}var m,k,T,M;if(0===h.length)return N(),x()("#calendar-total-value").text("0"),void p.html(`<div class="no-results"><span>${b("noResults")}</span></div>`);if(x()("#master-check-all").attr("disabled","disabled"),"rh-views-insert"===u){const e=h.length;x()("#calendar-total-value").text(e);const t=x()("#calendar a#selected");0===e||e<50?t.css("background-color","#daf3cb"):e>49&&e<100?t.css("background-color","#aade8a"):e>99&&e<150?(t.css("background-color","#6dc738"),t.css("color","#fff")):(t.css("background-color","#4e991f"),t.css("color","#fff"))}"title"===r?h.sort((function(e,t){const s="yes"===a?e.host.replace("www.",""):e.title,n="yes"===a?t.host.replace("www.",""):t.title;return s<n?-1:s>n?1:0})):(h.sort((function(e,t){return e.epoch-t.epoch})),h.reverse()),"asc"===l&&h.reverse(),p.text("");let S="#fafafa",C="grey";"yes"===a?D(0,(t=>{if(t===h.length){clearInterval(I),N(),x()(document.body).find("#rh-bar-uione input").prop("checked",!1),i("selectedItem",void 0);const e=x()("#"+u+" div.group-title");e.length>0&&A(x()(e[0]).attr("title")),x()("#master-check-all").removeAttr("disabled")}else if(void 0!==h[t]){if(0===p.find('div[rel="'+h[t].host+'"]').length){const e="toggle-"+Math.floor(1e18*Math.random()+1e17),s="more-"+Math.floor(1e18*Math.random()+1e17),a="error-"+Math.floor(1e18*Math.random()+1e17),i="group-"+Math.floor(1e18*Math.random()+1e17),r=document.createElement("div");r.title=h[t].host,r.setAttribute("rel",C),r.style.backgroundColor=S,r.classList.add("item-holder"),r.classList.add("group-title"),r.innerHTML=`\n                <a href="#" class="group-title-toggle" id="${e}" data-host="${h[t].host}" rel="${h[t].host}"></a>\n                <input type="checkbox" class="group-title-checkbox" id="${s}" value="${h[t].host}">\n                <img id="${a}" class="group-title-favicon" alt="Favicon" src="${h[t].favicon}">\n                <span id="${i}" data-host="${h[t].host}" class="group-title-host">\n                  ${h[t].host.replace("www.","")}\n                </span>\n            `,p.append(r),x()(`#${e}`).on("click",(function(){A(x()(this).attr("data-host"))})),x()(`#${s}`).on("click",(function(){!function(e){let t;e=x()(e),"history"===$()?t="#rh-views-insert":"search"===$()&&(t="#rh-views-search-insert");const s=e.val();!1===e.prop("checked")?x()(t+" .chkbx").each((function(){const t=x()(this),a=c(t.val()),n=a?a.host:null;s===n&&(t.prop("checked",!1),"white"===t.closest("div.item-holder").get("rel")?(t.closest("div.item-holder").css("background-color","#fff"),e.closest("div.group-title").css("background-color","#fff")):(t.closest("div.item-holder").css("background-color","#f1f1f1"),e.closest("div.group-title").css("background-color","#f1f1f1")))})):!0===e.prop("checked")&&x()(t+" .chkbx").each((async function(){const t=x()(this),a=c(t.val()),i=a?a.host:null;s===i&&(t.prop("checked",!0),e.closest("div.group-title").css("background-color",n("itemSelectedColor")),await L(t,"single"))}));const a=x()("#master-check-all");x()(t+" .chkbx").length===x()(t+" .chkbx:checked").length?(a.prop("checked",!0),a.val("true")):(a.prop("checked",!1),a.val("false"))}(this)})),x()(`#${a}`).on("error",(function(){x()(this).attr("src","images/blank.png")})),x()(`#${i}`).on("click",(function(){A(x()(this).attr("data-host"))}));const o=document.createElement("div");o.setAttribute("rel",h[t].host),o.classList.add("group-holder"),o.style.display="none",p.append(o),S="#fff"===S?"#fafafa":"#fff",C="white"===C?"grey":"white"}"search"!==e||"all"!==s&&"recent"!==s||(h[t].time="- - : - -");const a="select-"+Math.floor(1e18*Math.random()+1e17),i=document.createElement("div"),r=p.find('div.item-holder[title="'+h[t].host+'"]').attr("rel");i.setAttribute("rel",r),i.classList.add("item-holder"),i.style.backgroundColor=p.find('div.item-holder[title="'+h[t].host+'"]').css("background-color"),i.innerHTML=`\n            <div class="item">\n              <span class="checkbox">\n                <label>\n                    <input class="chkbx" type="checkbox" id="${a}" value="${h[t].url}" name="check">\n                </label>&nbsp;\n              </span>\n              <span class="time">${h[t].time}</span>\n              <a style="padding-left:0;" target="_blank" class="link" href="${h[t].url}">\n                <span class="title" title="${h[t].url}" rel="${b("visits")}: ${h[t].visits} | ${h[t].time} ${h[t].date}">\n                  ${h[t].title}\n                </span>\n              </a>\n            </div>\n            <div class="clearitem" style="clear:both;"></div>\n          `,p.find('div[rel="'+h[t].host+'"]').append(i),x()(`#${a}`).on("click",(function(){L(this,"single")}))}})):"no"===a&&D(0,(t=>{if(t===h.length){clearInterval(I),N(),x()(document.body).find("#rh-bar-uione input").prop("checked",!1),i("selectedItem",void 0);const e=x()("#"+u+" div.group-title");e.length>0&&A(x()(e[0]).attr("title")),x()("#master-check-all").removeAttr("disabled")}else if(void 0!==h[t]){"search"!==e||"all"!==s&&"recent"!==s||(h[t].time="- - : - -");const a="select-"+Math.floor(1e18*Math.random()+1e17),n="error-"+Math.floor(1e18*Math.random()+1e17),i=document.createElement("div");i.setAttribute("rel",C),i.classList.add("item-holder"),i.style.backgroundColor=S,i.innerHTML=`\n            <div class="item">\n              <span class="checkbox"><label><input class="chkbx" type="checkbox" id="${a}" value="${h[t].url}" name="check"></label>&nbsp;</span>\n              <span class="time">${h[t].time}</span>\n              <a target="_blank" class="link" href="${h[t].url}">\n                <img id="${n}" class="favicon" alt="Favicon" src="${h[t].favicon}">\n                <span class="title" title="${h[t].url}" rel="${b("visits")}: ${h[t].visits} | ${h[t].time} ${h[t].date}">${h[t].title}</span>\n              </a>\n            </div>\n            <div class="clearitem" style="clear:both;"></div>\n          `,p.append(i),S="#fff"===S?"#fafafa":"#fff",C="white"===C?"grey":"white",x()(`#${a}`).on("click",(function(){L(this,"single")})),x()(`#${n}`).on("error",(function(){this.attr("src","images/blank.png")}))}}))};function A(e){let t;"history"===$()?t="rh-views-insert":"search"===$()&&(t="rh-views-search-insert");const s=x()(`#${t}`),a=s.find('a[rel="'+e+'"]'),n=s.find('div[rel="'+e+'"]');"block"===n.css("display")?(n.css("display","none"),a.css("background-position","left center")):(n.css("display","block"),a.css("background-position","right center"))}const N=()=>{const e=x()("#alert-holder");"block"===e.css("display")?(e.css("display","none"),x()("alert-holder-loading").css("margin-top","-15px")):"none"===e.css("display")&&e.css("display","block")},L=async(e,t)=>{e=x()(e);const s=await g("rh-group");let a;if("history"===$()?a="#rh-views-insert":"search"===$()&&(a="#rh-views-search-insert"),"single"===t){if(!0===e.prop("checked")){if("true"===n("shiftState")&&void 0!==n("selectedItem")){let t="false";const s=x()(a+" .chkbx");for(let a=0;a<s.length;a++)s[a]!==e&&s[a]!==n("selectedItem")||(t="false"===t?"true":"false"),"true"===t&&s[a]!==e&&s[a]!==n("selectedItem")&&(!0===s[a].prop("checked")?(s[a].prop("checked",!1),"white"===s[a].closest("div.item-holder").attr("rel")?s[a].closest("div.item-holder").css("background-color","#fff"):s[a].closest("div.item-holder").css("background-color","#f1f1f1")):!1===s[a].prop("checked")&&(s[a].prop("checked",!0),s[a].closest("div.item-holder").css("background-color",n("itemSelectedColor"))))}i("selectedItem",e),e.closest("div.item-holder").css("background-color",n("itemSelectedColor"))}else if(!1===e.prop("checked")){i("selectedItem",void 0);const t=e.val();x()(a+" .chkbx").each((function(){const e=x()(this);e.val()===t&&("white"===e.closest("div.item-holder").get("rel")?e.closest("div.item-holder").css("background-color","#fff"):e.closest("div.item-holder").css("background-color","#f1f1f1"))}))}const t=x()("#master-check-all");if(x()(a+" .chkbx").length===x()(a+" .chkbx:checked").length?(t.prop("checked",!0),t.val("true")):(t.prop("checked",!1),t.val("false")),"yes"===s){const t=e.closest(".group-holder");t.find(".chkbx").length===t.find(".chkbx:checked").length?(x()(a+' div[title="'+t.attr("rel")+'"]')[0].css("background-color",n("itemSelectedColor")),x()(a+' div[title="'+t.attr("rel")+'"]')[0].find(".group-title-checkbox").prop("checked",!0)):"grey"===x()(a+' div[title="'+t.attr("rel")+'"]')[0].attr("rel")?(x()(a+' div[title="'+t.attr("rel")+'"]')[0].css("background-color","#f1f1f1"),x()(a+' div[title="'+t.attr("rel")+'"]')[0].find(".group-title-checkbox").prop("checked",!1)):"white"===x()(a+' div[title="'+t.attr("rel")+'"]')[0].attr("rel")&&(x()(a+' div[title="'+t.attr("rel")+'"]')[0].css("background-color","#fff"),x()(a+' div[title="'+t.attr("rel")+'"]')[0].find(".group-title-checkbox").prop("checked",!1))}}else"all"===t&&("false"===e.val()?(x()(a+" .chkbx").each((function(){const e=x()(this);e.prop("checked",!0),e.closest("div.item-holder").css("background-color",n("itemSelectedColor"))})),"yes"===s&&x()(a+" .group-title").each((function(){const e=x()(this);e.find("input").prop("checked",!0),e.css("background-color",n("itemSelectedColor"))})),e.val("true")):(x()(a+" .chkbx").each((function(){const e=x()(this);e.prop("checked",!1),"white"===e.closest("div.item-holder").attr("rel")?e.closest("div.item-holder").css("background-color","#fff"):e.closest("div.item-holder").css("background-color","#fafafa")})),"yes"===s&&x()(a+" .group-title").each((function(){const e=x()(this);e.find("input").prop("checked",!1),"white"===e.attr("rel")?e.css("background-color","#fff"):e.css("background-color","#fafafa")})),e.val("false")))},S=async e=>{const t=x()("#title");if("selected"===e){const e=await g("rh-group");let s;if("history"===$()?s="#rh-views-insert":"search"===$()&&(s="#rh-views-search-insert"),x()(s+" .checkbox input:checked").length>0){t.text("Deleting..."),N(),x()(s+" .checkbox input:checked").each((function(){const e=x()(this);e.closest("div.item-holder").remove(),y.remove(e.val())}));const a={maxResults:1,startTime:(new Date).getTime()-864e5,endTime:(new Date).getTime()};await y.get(a),"yes"===e&&x()(s+" .group-holder").each((function(){const e=x()(this);0===e.children("div.item-holder").length&&(x()(s+' .group-title[title="'+e.attr("rel")+'"]').remove(),e.remove())})),t.text("History | Recent History"),N()}}else if("range"===e){const e={},s={},a=(await g("rh-date")).split("/"),n=x()("#delete-range-one").val().split("/"),i=x()("#delete-range-two").val().split("/");for(let t=0;t<a.length;t++)s[a[t]]=n[t],e[a[t]]=i[t];const r=new Date(s.yyyy,s.mm-1,s.dd,23,59,59,999).getTime()-864e5,o=new Date(e.yyyy,e.mm-1,e.dd,23,59,59,999).getTime();r<o&&(t.text("Deleting..."),N(!0),await y.removeRange(r,o),T("yes",""),await M("yes",""),t.text("History | Recent History"),N(!0))}};window.addEventListener("DOMContentLoaded",(async()=>{const e=x()("#rh-search"),t=x()("#rh-bar-group"),s=x()("#rh-bar-orderby"),a=x()("#rh-bar-order"),r=x()("#delete-button"),o=x()("#delete-range-button");r.val(b("deleteItems")),o.val(b("deleteItems"));const c=await(async()=>await(new f).getAll())();"no"===c["rh-group"]&&t.css("background-position","right center"),"title"===c["rh-orderby"]&&s.css("background-position","right center"),"asc"===c["rh-order"]&&a.css("background-position","right center"),t.on("click",(async function(){const s=await g("rh-group");"yes"===s?(t.css("background-position","right center"),await m("rh-group","no")):"no"===s&&(t.css("background-position","left center"),await m("rh-group","yes"));const a=$();if("history"===a)await M("yes","");else if("search"===a){const t=e.val();t.length>0?await M("search",t):await M("yes","")}})),s.on("click",(async()=>{const t=await g("rh-orderby");"date"===t?(s.css("background-position","right center"),await m("rh-orderby","title")):"title"===t&&(s.css("background-position","left center"),await m("rh-orderby","date"));const a=$();if("history"===a)await M("yes","");else if("search"===a){const t=e.val();t.length>0?await M("search",t):await M("yes","")}})),a.on("click",(async()=>{const t=await g("rh-order");"desc"===t?(a.css("background-position","right center"),await m("rh-order","asc")):"asc"===t&&(a.css("background-position","left center"),await m("rh-order","desc"));const s=$();if("history"===s)await M("yes","");else if("search"===s){const t=e.val();t.length>0?await M("search",t):await M("yes","")}})),window.addEventListener("scroll",(()=>{1*(void 0).getScroll().y>115?x()("#calendar").css({position:"fixed",top:"15px"}):x()("#calendar").css({position:"absolute",top:"129px"})})),x()(document.body).on("keydown",(e=>{16===e.keyCode&&"false"===n("shiftState")&&i("shiftState","true")})),x()(document.body).on("keyup",(e=>{16===e.keyCode&&i("shiftState","false")}));let l=await g("rh-date");l=l.replace("dd","dsdi").replace("mm","dsmi").replace("yyyy","dsyi"),l=l.split("/"),x()(`#${l[0]}`).html('<select class="select" id="date-select-day"></select>'),x()(`#${l[1]}`).html('<select class="select" id="date-select-month"><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>'),x()(`#${l[2]}`).html('<select class="select" id="date-select-year"></select>'),x()("#date-select-day").on("change",(async()=>{T("selected",""),await M("yes","")})),x()("#date-select-month").on("change",(async()=>{T("selected",""),await M("yes","")})),x()("#date-select-year").on("change",(async()=>{T("selected",""),await M("yes","")})),T("current",""),await M("current","");const d=x()("#calendar");x()("#delete-range-toggle-button").on("click",(function(){const e=x()(this),t=parseInt(d.css("width"));336===t?(d.css({width:"170px"}),e.css("background-position","left top")):170===t&&(d.css({width:"336px"}),e.css("background-position","right top"))})),x()("#rh-what").on("change",(async()=>{const t=e.val();t.length>2&&await M("search",t)}));const h=x()("#rh-views-insert"),u=x()("#rh-views-search-insert");e.on("keyup",(async function(){const e=x()(this).val();e.length>2?(await M("search",e),h.css("display","none"),u.css("display","block")):(h.css("display","block"),u.css("display","none"))})),x()("#rh-clear-search").on("click",(()=>{e.val(""),e.focus(),h.css("display","block"),u.css("display","none"),u.text(""),x()(document.body).find("#rh-bar-uione input").prop("checked",!1)})),e.focus(),x()("#master-check-all").on("click",(function(){L(this,"all")})),o.on("click",(()=>{S("range")})),r.on("click",(()=>{S("selected")})),x()(".lang").each((function(){this.innerHTML=b(x()(this).attr("data-lang-string"))}))}))}},s={};function a(e){var n=s[e];if(void 0!==n)return n.exports;var i=s[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,s,n,i)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,n,i]=e[d],o=!0,c=0;c<s.length;c++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](s[c])))?s.splice(c--,1):(o=!1,i<r&&(r=i));if(o){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,n,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=141,(()=>{var e={141:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var n,i,[r,o,c]=s,l=0;if(r.some((t=>0!==e[t]))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(c)var d=c(a)}for(t&&t(s);l<r.length;l++)i=r[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self.webpackChunkrecenthistory=self.webpackChunkrecenthistory||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=a.O(void 0,[96],(()=>a(494)));n=a.O(n)})();